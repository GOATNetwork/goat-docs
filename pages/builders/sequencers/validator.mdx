---
title: 'Running a Sequencer Node on GOAT Testnet3 and Alpha Mainnet'
description: 'Complete guide for setting up and running a Sequencer Node (2 BTC stake) on GOAT Testnet3 and Alpha Mainnet'
---

import { Callout } from 'nextra/components'

# Running a Sequencer Node on GOAT Testnet3 and Alpha Mainnet

This guide provides detailed instructions on how to join **GOAT Testnet3** and **Alpha Mainnet** and run a Sequencer Node.

## Chain Information

### Alpha Mainnet

| Parameter               | Value                                                                   |
|-------------------------|-------------------------------------------------------------------------|
| **Network Name**        | GOAT Network                                                            |
| **RPC URL**             | [https://rpc.goat.network](https://rpc.goat.network)                   |
| **Chain ID**            | 2345                                                                    |
| **Currency Symbol**     | BTC                                                                     |
| **Currency Decimal**    | 18                                                                      |
| **Block Explorer**      | [https://explorer.goat.network](https://explorer.goat.network)         |
| **Gist**                | [v0.2.0](https://github.com/GOATNetwork/goat/releases/tag/v0.2.0)      |

### Testnet3

| Parameter               | Value                                                                   |
|-------------------------|-------------------------------------------------------------------------|
| **Network Name**        | GOAT Testnet3                                                           |
| **RPC URL**             | [https://rpc.testnet3.goat.network](https://rpc.testnet3.goat.network) |
| **Chain ID**            | 48816                                                                   |
| **Currency Symbol**     | BTC                                                                     |
| **Currency Decimal**    | 18                                                                      |
| **Block Explorer**      | [https://explorer.testnet3.goat.network](https://explorer.testnet3.goat.network) |
| **Gist**                | [v0.1.3](https://github.com/GOATNetwork/goat/releases/tag/v0.1.3)      |

## System Requirements

### Hardware Configuration

- **CPU**: Equivalent to c5.2xlarge or similar
- **Storage**:
  - Root directory with at least 40 GiB of space
  - EBS gp3, 100 GiB, 3000 IOPS, mounted to `/data`

### Network Configuration

- **IPv4 Elastic IP (EIP)** required

#### Security Group Rules

| Port  | Description        | Protocol | Source    |
| ----- | ------------------ | -------- | --------- |
| 30303 | goat-geth P2P      | UDP      | 0.0.0.0/0 |
| 30303 | goat-geth P2P      | TCP      | 0.0.0.0/0 |
| 26656 | goat P2P Port      | TCP      | 0.0.0.0/0 |

<Callout type="info">
  Ensure your server's firewall and network security settings allow inbound traffic on these ports.
</Callout>

### Software Environment

- **Operating System**: Ubuntu 20.04 or higher
- **Docker and Docker Compose**
- **Golang**: Latest stable version (currently 1.23)

## Deployment Steps

### 1. Generate Sequencer Key

Log into your machine and generate the sequencer key:

```bash:pages/builders/sequencers/validator.mdx
docker run --rm -v /data/goat:/root/.goat ghcr.io/goatnetwork/goat:v0.2.0 modgen locking sign --owner 0x...abc --eth-chain-id 2345
```

Replace `0x...abc` with the owner EVM address. The owner is the node administrator's EVM address responsible for locking, redemption, and other operations.

**Expected output format:**

```json
{
  "owner": "0x...abc",
  "pubkey": "0xf93bd3bad63419f0bc201043b433a03e53867b7b01c7f7a08fb5c2a4e14ce89bd6303df7e5bca824c5c6526aa748f4eef20d9879de26bfda0b00414cb6b76ff8",
  "signature": "0x41b65d5255a7e0006df9c80dc0537c5945e0c7a6f5af2f258ca5969f665f16654449d79355ec2f00d847c4949024216d979057808ccd3dfaf3d8b5d6aa51b1d100"
}
```

<Callout type="warning">
  Back up the generated key at `/data/goat/config/priv_validator_key.json`
</Callout>

### 2. Start the Sequencer Node

Create a `docker-compose.yml`:

```yaml:docker-compose.yml
version: '3.8'
services:
  geth:
    image: ghcr.io/goatnetwork/goat-geth:v0.2.0
    network_mode: host
    restart: unless-stopped
    stop_grace_period: 30s
    command:
      - --goat=alpha
      - --goat.preset=bootnode,rpc
      # - --gcmode=archive  # Uncomment for archive node
    volumes:
      - /data/geth:/root/.ethereum
    logging:
      driver: json-file
      options:
        max-file: "10"
        max-size: 50m
  goat:
    image: ghcr.io/goatnetwork/goat:v0.2.0
    network_mode: host
    restart: unless-stopped
    stop_grace_period: 30s
    command:
      - start
      - --goat.geth=/geth/geth.ipc
      - --goat.preset=bootnode,rpc
      - --chain-id=goat-alpha
    depends_on:
      - geth
    volumes:
      - /data/goat:/root/.goat
      - /data/geth:/geth
    logging:
      driver: json-file
      options:
        max-file: "10"
        max-size: 50m
```

Start the services:

```bash:pages/builders/sequencers/validator.mdx
docker-compose up -d
```

### 3. Sync Status Check

Monitor blockchain sync:

```bash:pages/builders/sequencers/validator.mdx
docker exec -i goat-alpha-1 goatd status | jq .
```

<Callout type="info">
  Wait for `"catching_up": false` to confirm full sync
</Callout>

### 4. Become a Sequencer Node

#### Prerequisites

- Sequencer Node Owner Address (from step 1)
- Signature (split into 32-32-1 bytes)
- Sufficient funds for locking (2 BTC) and gas

#### Locking Contract Details

- **Alpha Mainnet Address**: `0xbC10000000000000000000000000000000000004`
- **Testnet3 Address**: `0xbC10000000000000000000000000000000000004`
- **Asset Manager Address**: `0x218ab55484482409aAfD035066eb1e0315BE0084`

#### Locking Process

1. Get whitelisted by contacting the GOAT Network team.
2. Check minimum lock amount:

    ```solidity:contracts/Locking.sol
    // Reference: https://github.com/GOATNetwork/goat-contracts/blob/main/contracts/locking/Locking.sol#L334
    function minimumLockAmount() external view returns (uint256)
    ```

3. Create a Sequencer Node:

    ```solidity:contracts/Locking.sol
    // Reference: https://github.com/GOATNetwork/goat-contracts/blob/main/contracts/locking/Locking.sol#L118
    function createValidator(
        address owner,
        bytes memory pubkey,
        bytes32 r,
        bytes32 s,
        uint8 v
    ) external
    ```

### Locking Asset Manager Operations

<Callout type="info">
  The Locking Asset Manager is designed to optimize the validation mechanism for locked amounts and prevent accidental node exits due to erroneous withdrawals.
</Callout>

#### Safe Lock

```solidity:contracts/SafeLocking.sol
// Reference: https://github.com/liqingnz/goat-contracts-extension/blob/main/src/SafeLocking.sol#L32
function safeLock(uint256 amount) external
```

#### Safe Unlock

```solidity:contracts/SafeLocking.sol
// Reference: https://github.com/liqingnz/goat-contracts-extension/blob/main/src/SafeLocking.sol#L47
function safeUnlock(uint256 amount) external
```

#### Exit Sequencer Node

```solidity:contracts/SafeLocking.sol
// Reference: https://github.com/liqingnz/goat-contracts-extension/blob/main/src/SafeLocking.sol#L69
function exit() external
```

#### Example Contract

Example Implementation: `0xb1119639cB7bB92B8a3C6d666f159944e89472C1`

## Support Resources

- [RegTest Sequencer Node](https://github.com/GOATNetwork/goat-regtest)
- [Telegram](https://t.me/+5JwHzveSo4IxMGY5)

<Callout type="warning">
  The Locking Asset Manager features are under testing. Exercise caution and monitor announcements.
</Callout>
